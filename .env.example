# =============================================================================
# AI Lead Response System - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=ai-lead-system
APP_ENV=development  # development | staging | production
DEBUG=true
LOG_LEVEL=INFO
SECRET_KEY=your-secret-key-min-32-chars-change-this

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# -----------------------------------------------------------------------------
# Database (Supabase PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Supabase Direct Access
SUPABASE_URL=https://[project-ref].supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# -----------------------------------------------------------------------------
# Redis (for caching and Celery)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# -----------------------------------------------------------------------------
# AI Providers
# -----------------------------------------------------------------------------
# Anthropic (Primary)
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_MODEL_QUALIFICATION=claude-sonnet-4-20250514
ANTHROPIC_MODEL_ROUTING=claude-haiku-3-5-20241022
ANTHROPIC_MAX_TOKENS=2048
ANTHROPIC_TEMPERATURE=0.3

# OpenAI (Backup + Embeddings)
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL_FALLBACK=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Twilio (SMS/WhatsApp/Voice)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=whatsapp:+1234567890
TWILIO_WEBHOOK_URL=https://yourdomain.com/webhooks/twilio

# -----------------------------------------------------------------------------
# Cal.com (Calendar/Appointments)
# -----------------------------------------------------------------------------
CALCOM_API_KEY=cal_live_xxxxxxxxxxxxx
CALCOM_BASE_URL=https://api.cal.com/v1
CALCOM_DEFAULT_EVENT_TYPE_ID=123456

# -----------------------------------------------------------------------------
# HubSpot (CRM)
# -----------------------------------------------------------------------------
HUBSPOT_ACCESS_TOKEN=pat-na1-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
HUBSPOT_PORTAL_ID=12345678

# -----------------------------------------------------------------------------
# Email (SendGrid or SMTP)
# -----------------------------------------------------------------------------
# Option 1: SendGrid (preferred)
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Option 2: SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Common email settings
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=AI Lead System

# -----------------------------------------------------------------------------
# Monitoring & Logging
# -----------------------------------------------------------------------------
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Better Stack (optional)
LOGTAIL_SOURCE_TOKEN=your-logtail-token

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=your-jwt-secret-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_KEY_HEADER=X-API-Key
WEBHOOK_SECRET=your-webhook-secret

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_VOICE_AI=false
ENABLE_WHATSAPP=true
ENABLE_SMS=true
ENABLE_WEB_CHAT=true
ENABLE_PROMPT_CACHING=true

# -----------------------------------------------------------------------------
# Cost Controls
# -----------------------------------------------------------------------------
DEFAULT_MONTHLY_TOKEN_BUDGET=1000000
ALERT_THRESHOLD_PERCENT=80
MAX_CONVERSATION_LENGTH=50
